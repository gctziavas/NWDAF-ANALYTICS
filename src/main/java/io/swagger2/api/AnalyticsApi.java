/**
 * NOTE: This class is auto generated by the swagger code generator program (3.0.19).
 * https://github.com/swagger-api/swagger-codegen
 * Do not edit the class manually.
 */
package io.swagger2.api;

import io.swagger2.model.Accuracy;
import io.swagger2.model.AnalyticsData;
import io.swagger2.model.EventFilter;
import io.swagger2.model.EventId;
import io.swagger2.model.EventReportingRequirement;
import io.swagger2.model.ExceptionId;
import io.swagger2.model.ExpectedAnalyticsType;
import io.swagger2.model.GroupId;
import io.swagger2.model.NFType;
import io.swagger2.model.NetworkAreaInfo;
import io.swagger2.model.NetworkPerfType;
import io.swagger2.model.NfInstanceId;
import io.swagger2.model.NsiId;
import io.swagger2.model.NsiIdInfo;
import io.swagger2.model.NsiLoadLevelInfo;
import io.swagger2.model.ProblemDetails;
import io.swagger2.model.Snssai;
import io.swagger2.model.Supi;
import io.swagger2.model.SupportedFeatures;
import io.swagger2.model.TargetUeInformation;

import com.fasterxml.jackson.core.type.TypeReference;
import com.fasterxml.jackson.databind.DeserializationConfig;
import com.fasterxml.jackson.databind.DeserializationFeature;
import com.fasterxml.jackson.databind.ObjectMapper;
import com.fasterxml.jackson.databind.SerializationFeature;
import com.fasterxml.jackson.dataformat.yaml.YAMLFactory;
import com.fasterxml.jackson.datatype.jdk8.Jdk8Module;
import java.util.regex.*;
import java.util.regex.Pattern;

import io.swagger.annotations.*;

import org.openjdk.jol.vm.VM;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.validation.annotation.Validated;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestHeader;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.RequestPart;
import org.springframework.web.multipart.MultipartFile;
import org.springframework.web.bind.annotation.CookieValue;

import javax.servlet.http.HttpServletRequest;
import javax.validation.Valid;
import javax.validation.constraints.*;
import java.io.IOException;
import java.time.LocalDateTime;
import java.time.OffsetDateTime;
import java.time.format.DateTimeFormatter;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.HashMap;
import java.util.List;
import java.util.Map;
import java.util.Optional;
import java.util.UUID;
@javax.annotation.Generated(value = "io.swagger.codegen.v3.generators.java.SpringCodegen", date = "2021-05-04T13:04:57.679821+03:00[Europe/Athens]")  
@Api(value = "analytics", description = "the analytics API")

public interface AnalyticsApi {

    Logger log = LoggerFactory.getLogger(AnalyticsApi.class);

    default Optional<ObjectMapper> getObjectMapper(){
    	
        return Optional.empty();
    }
    
    default Optional<HttpServletRequest> getRequest(){
        return Optional.empty();
    }

    default Optional<String> getAcceptHeader() {    
        return getRequest().map(r -> r.getHeader("Accept"));
    }

    @ApiOperation(value = "Read a NWDAF Analytics", nickname = "getNWDAFAnalytics", notes = "", response = AnalyticsData.class, authorizations = {
        @Authorization(value = "oAuth2ClientCredentials", scopes = { 
            @AuthorizationScope(scope = "nnwdaf-analyticsinfo", description = "Access to the Nnwdaf_AnalyticsInfo API")
            })    }, tags={ "NWDAF Analytics (Document)", })
    @ApiResponses(value = { 
        @ApiResponse(code = 200, message = "Containing the analytics with parameters as relevant for the requesting NF service consumer.", response = AnalyticsData.class),
        @ApiResponse(code = 204, message = "No Content (The request NWDAF Analytics data does not exist)"),
        @ApiResponse(code = 400, message = "Bad request", response = ProblemDetails.class),
        @ApiResponse(code = 401, message = "Unauthorized", response = ProblemDetails.class),
        @ApiResponse(code = 403, message = "Forbidden", response = ProblemDetails.class),
        @ApiResponse(code = 404, message = "Indicates that the NWDAF Analytics resource does not exist.", response = ProblemDetails.class),
        @ApiResponse(code = 406, message = "406 Not Acceptable"),
        @ApiResponse(code = 414, message = "URI Too Long", response = ProblemDetails.class),
        @ApiResponse(code = 429, message = "Too Many Requests", response = ProblemDetails.class),
        @ApiResponse(code = 500, message = "Internal Server Error", response = ProblemDetails.class),
        @ApiResponse(code = 503, message = "Service Unavailable", response = ProblemDetails.class),
        @ApiResponse(code = 200, message = "Generic Error") })
    @RequestMapping(value = "/analytics",
        produces = {  "application/json", "application/problem+json" },

        method = RequestMethod.GET )
    default ResponseEntity<AnalyticsData> getNWDAFAnalytics(@NotNull @ApiParam(value = "Identify the analytics.", required = true) @Valid @RequestParam(value = "event-id", required = true) EventId  eventId //String eventId 
,@ApiParam(value = "Identifies the analytics reporting requirement information.") @Valid @RequestParam(value = "ana-req", required = false)  String anaReq // EventReportingRequirement anaReq
,@ApiParam(value = "Identify the analytics.") @Valid @RequestParam(value = "event-filter", required = false)  String eventFilter //String eventFilter
,@ApiParam(value = "To filter irrelevant responses related to unsupported features") @Valid @RequestParam(value = "supported-features", required = false)  String supportedFeatures // SupportedFeatures supportedFeatures
,@ApiParam(value = "Identify the target UE information.") @Valid @RequestParam(value = "tgt-ue", required = false)  String tgtUe //String tgtUe
) {		
    	 
//----------------------------------------------------------------------------------------
//    	 if(getObjectMapper().isPresent() && getAcceptHeader().isPresent()) {
//    		 //getObjectMapper().enable(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT);
//             if (getAcceptHeader().get().contains("application/json")) {
//            	try {
///*Provlima se auth th seira*/return new ResponseEntity<>(getObjectMapper().get().readValue("{\n  \"sliceLoadLevelInfos\" : [ {\n    \"loadLevelInformation\" : 0,\n    \"snssais\" : [ {\n      \"sd\" : \"sd\",\n      \"sst\" : 153\n    }, {\n      \"sd\" : \"sd\",\n      \"sst\" : 153\n    } ]\n  }, {\n    \"loadLevelInformation\" : 0,\n    \"snssais\" : [ {\n      \"sd\" : \"sd\",\n      \"sst\" : 153\n    }, {\n      \"sd\" : \"sd\",\n      \"sst\" : 153\n    } ]\n  } ],\n  \"ueComms\" : [ {\n    \"trafChar\" : {\n      \"fDescs\" : [ {\n        \"ethTrafficFilter\" : {\n          \"destMacAddr\" : \"{}\",\n          \"fDir\" : \"{}\",\n          \"ethType\" : \"ethType\",\n          \"fDesc\" : \"{}\",\n          \"vlanTags\" : [ \"vlanTags\", \"vlanTags\" ]\n        },\n        \"ipTrafficFilter\" : \"ipTrafficFilter\"\n      }, {\n        \"ethTrafficFilter\" : {\n          \"destMacAddr\" : \"{}\",\n          \"fDir\" : \"{}\",\n          \"ethType\" : \"ethType\",\n          \"fDesc\" : \"{}\",\n          \"vlanTags\" : [ \"vlanTags\", \"vlanTags\" ]\n        },\n        \"ipTrafficFilter\" : \"ipTrafficFilter\"\n      } ],\n      \"ulVol\" : 0\n    }\n  }, {\n    \"trafChar\" : {\n      \"fDescs\" : [ {\n        \"ethTrafficFilter\" : {\n          \"destMacAddr\" : \"{}\",\n          \"fDir\" : \"{}\",\n          \"ethType\" : \"ethType\",\n          \"fDesc\" : \"{}\",\n          \"vlanTags\" : [ \"vlanTags\", \"vlanTags\" ]\n        },\n        \"ipTrafficFilter\" : \"ipTrafficFilter\"\n      }, {\n        \"ethTrafficFilter\" : {\n          \"destMacAddr\" : \"{}\",\n          \"fDir\" : \"{}\",\n          \"ethType\" : \"ethType\",\n          \"fDesc\" : \"{}\",\n          \"vlanTags\" : [ \"vlanTags\", \"vlanTags\" ]\n        },\n        \"ipTrafficFilter\" : \"ipTrafficFilter\"\n      } ],\n      \"ulVol\" : 0\n    }\n  } ],\n  \"start\" : \"2000-01-23T04:56:07.000+00:00\",\n  \"nfLoadLevelInfos\" : [ {\n    \"nfInstanceId\" : \"046b6c7f-0b8a-43b9-b35d-6489e6daee91\",\n    \"nfStorageUsage\" : 2,\n    \"nfLoadLevelpeak\" : 9,\n    \"nfStatus\" : {\n      \"statusRegistered\" : 15\n    },\n    \"nfCpuUsage\" : 5,\n    \"confidence\" : 0,\n    \"nfType\" : \"\",\n    \"nfSetId\" : \"nfSetId\",\n    \"nfMemoryUsage\" : 5,\n    \"nfLoadLevelAverage\" : 7\n  }, {\n    \"nfInstanceId\" : \"046b6c7f-0b8a-43b9-b35d-6489e6daee91\",\n    \"nfStorageUsage\" : 2,\n    \"nfLoadLevelpeak\" : 9,\n    \"nfStatus\" : {\n      \"statusRegistered\" : 15\n    },\n    \"nfCpuUsage\" : 5,\n    \"confidence\" : 0,\n    \"nfType\" : \"\",\n    \"nfSetId\" : \"nfSetId\",\n    \"nfMemoryUsage\" : 5,\n    \"nfLoadLevelAverage\" : 7\n  } ],\n  \"svcExps\" : [ {\n    \"svcExprcVariance\" : 2.027123,\n    \"supis\" : [ \"supis\", \"supis\" ],\n    \"svcExprc\" : {\n      \"mos\" : \"{}\"\n    },\n    \"dnn\" : \"dnn\",\n    \"appId\" : \"appId\"\n  }, {\n    \"svcExprcVariance\" : 2.027123,\n    \"supis\" : [ \"supis\", \"supis\" ],\n    \"svcExprc\" : {\n      \"mos\" : \"{}\"\n    },\n    \"dnn\" : \"dnn\",\n    \"appId\" : \"appId\"\n  } ],\n  \"nsiLoadLevelInfos\" : [ {\n    \"nsiId\" : \"nsiId\"\n  }, {\n    \"nsiId\" : \"nsiId\"\n  } ],\n  \"userDataCongInfos\" : [ {\n    \"congestionInfo\" : {\n      \"timeIntev\" : {\n        \"startTime\" : \"{}\"\n      },\n      \"nsi\" : {\n        \"nfStorageUsage\" : 7,\n        \"congLevel\" : 1,\n        \"nfCpuUsage\" : 1,\n        \"nfMemoryUsage\" : 6,\n        \"nfLoadLevel\" : 1\n      },\n      \"congType\" : \"\"\n    }\n  }, {\n    \"congestionInfo\" : {\n      \"timeIntev\" : {\n        \"startTime\" : \"{}\"\n      },\n      \"nsi\" : {\n        \"nfStorageUsage\" : 7,\n        \"congLevel\" : 1,\n        \"nfCpuUsage\" : 1,\n        \"nfMemoryUsage\" : 6,\n        \"nfLoadLevel\" : 1\n      },\n      \"congType\" : \"\"\n    }\n  } ],\n  \"abnorBehavrs\" : [ {\n    \"supis\" : [ null, null ],\n    \"excep\" : {\n      \"excepTrend\" : \"\",\n      \"excepId\" : \"\",\n      \"excepLevel\" : 1\n    },\n    \"addtMeasInfo\" : {\n      \"ddosAttack\" : {\n        \"ipv6Addrs\" : [ \"2001:db8:85a3::8a2e:370:7334\", \"2001:db8:85a3::8a2e:370:7334\" ],\n        \"ipv4Addrs\" : [ \"198.51.100.1\", \"198.51.100.1\" ]\n      },\n      \"unexpFlowTeps\" : [ null, null ],\n      \"unexpWakes\" : [ null, null ],\n      \"circums\" : [ { }, { } ]\n    }\n  }, {\n    \"supis\" : [ null, null ],\n    \"excep\" : {\n      \"excepTrend\" : \"\",\n      \"excepId\" : \"\",\n      \"excepLevel\" : 1\n    },\n    \"addtMeasInfo\" : {\n      \"ddosAttack\" : {\n        \"ipv6Addrs\" : [ \"2001:db8:85a3::8a2e:370:7334\", \"2001:db8:85a3::8a2e:370:7334\" ],\n        \"ipv4Addrs\" : [ \"198.51.100.1\", \"198.51.100.1\" ]\n      },\n      \"unexpFlowTeps\" : [ null, null ],\n      \"unexpWakes\" : [ null, null ],\n      \"circums\" : [ { }, { } ]\n    }\n  } ],\n  \"nwPerfs\" : [ {\n    \"networkArea\" : {\n      \"ncgis\" : [ {\n        \"nrCellId\" : \"{}\"\n      }, {\n        \"nrCellId\" : \"{}\"\n      } ],\n      \"tais\" : [ {\n        \"tac\" : \"{}\"\n      }, {\n        \"tac\" : \"{}\"\n      } ],\n      \"gRanNodeIds\" : [ {\n        \"eNbId\" : \"{}\",\n        \"wagfId\" : \"{}\",\n        \"tngfId\" : \"{}\",\n        \"gNbId\" : \"{}\",\n        \"n3IwfId\" : \"{}\",\n        \"ngeNbId\" : \"{}\"\n      }, {\n        \"eNbId\" : \"{}\",\n        \"wagfId\" : \"{}\",\n        \"tngfId\" : \"{}\",\n        \"gNbId\" : \"{}\",\n        \"n3IwfId\" : \"{}\",\n        \"ngeNbId\" : \"{}\"\n      } ],\n      \"ecgis\" : [ {\n        \"eutraCellId\" : \"{}\",\n        \"nid\" : \"{}\",\n        \"plmnId\" : \"{}\"\n      }, {\n        \"eutraCellId\" : \"{}\",\n        \"nid\" : \"{}\",\n        \"plmnId\" : \"{}\"\n      } ]\n    },\n    \"nwPerfType\" : \"\"\n  }, {\n    \"networkArea\" : {\n      \"ncgis\" : [ {\n        \"nrCellId\" : \"{}\"\n      }, {\n        \"nrCellId\" : \"{}\"\n      } ],\n      \"tais\" : [ {\n        \"tac\" : \"{}\"\n      }, {\n        \"tac\" : \"{}\"\n      } ],\n      \"gRanNodeIds\" : [ {\n        \"eNbId\" : \"{}\",\n        \"wagfId\" : \"{}\",\n        \"tngfId\" : \"{}\",\n        \"gNbId\" : \"{}\",\n        \"n3IwfId\" : \"{}\",\n        \"ngeNbId\" : \"{}\"\n      }, {\n        \"eNbId\" : \"{}\",\n        \"wagfId\" : \"{}\",\n        \"tngfId\" : \"{}\",\n        \"gNbId\" : \"{}\",\n        \"n3IwfId\" : \"{}\",\n        \"ngeNbId\" : \"{}\"\n      } ],\n      \"ecgis\" : [ {\n        \"eutraCellId\" : \"{}\",\n        \"nid\" : \"{}\",\n        \"plmnId\" : \"{}\"\n      }, {\n        \"eutraCellId\" : \"{}\",\n        \"nid\" : \"{}\",\n        \"plmnId\" : \"{}\"\n      } ]\n    },\n    \"nwPerfType\" : \"\"\n  } ],\n  \"ueMobs\" : [ {\n    \"duration\" : 4,\n    \"recurringTime\" : {\n      \"daysOfWeek\" : [ \"{}\", \"{}\", \"{}\", \"{}\", \"{}\", \"{}\" ],\n      \"timeOfDayStart\" : \"{}\"\n    },\n    \"locInfos\" : [ {\n      \"loc\" : {\n        \"eutraLocation\" : \"{}\",\n        \"nrLocation\" : \"{}\",\n        \"n3gaLocation\" : \"{}\"\n      }\n    }, {\n      \"loc\" : {\n        \"eutraLocation\" : \"{}\",\n        \"nrLocation\" : \"{}\",\n        \"n3gaLocation\" : \"{}\"\n      }\n    } ]\n  }, {\n    \"duration\" : 4,\n    \"recurringTime\" : {\n      \"daysOfWeek\" : [ \"{}\", \"{}\", \"{}\", \"{}\", \"{}\", \"{}\" ],\n      \"timeOfDayStart\" : \"{}\"\n    },\n    \"locInfos\" : [ {\n      \"loc\" : {\n        \"eutraLocation\" : \"{}\",\n        \"nrLocation\" : \"{}\",\n        \"n3gaLocation\" : \"{}\"\n      }\n    }, {\n      \"loc\" : {\n        \"eutraLocation\" : \"{}\",\n        \"nrLocation\" : \"{}\",\n        \"n3gaLocation\" : \"{}\"\n      }\n    } ]\n  } ],\n  \"qosSustainInfos\" : [ {\n    \"qosFlowRetThd\" : {\n      \"relTimeUnit\" : \"\"\n    },\n    \"ranUeThrouThd\" : \"ranUeThrouThd\"\n  }, {\n    \"qosFlowRetThd\" : {\n      \"relTimeUnit\" : \"\"\n    },\n    \"ranUeThrouThd\" : \"ranUeThrouThd\"\n  } ],\n  \"suppFeat\" : \"suppFeat\"\n}", AnalyticsData.class), HttpStatus.NOT_IMPLEMENTED);
//                 } catch (IOException e) {
//                     log.error("Couldn't serialize response for content type application/json", e);
//                     return new ResponseEntity<>(HttpStatus.INTERNAL_SERVER_ERROR);
//                 }
//             }
//         } else {
//             log.warn("ObjectMapper or HttpServletRequest not configured in default AnalyticsApi interface so no example is generated");
//         }
//----------------------------------------------------------------------------------------   	
    	  if ( true ) {
    		 
//-----------------------------------------ana-req----------------------------------------    		  
    		  EventReportingRequirement analyticsReq = new EventReportingRequirement();
    		  Map<String, String> anaMap = null;
	    	  if(anaReq!=null) {
	    		  anaMap = new JsonToMap().jsonToMap(anaReq);
	    		  
	  	  		  analyticsReq.setAccuracy(new Accuracy(anaMap.get("accuracy"))); 
	  	  		  OffsetDateTime startTs = null;
	  	  		  if(anaMap.get("startTs") != null) {
	  	  			startTs = OffsetDateTime.parse(anaMap.get("startTs"), DateTimeFormatter.ISO_OFFSET_DATE_TIME);
	  	  		  }
	  	  		  analyticsReq.setStartTs(startTs);
	    		  
	    		  OffsetDateTime endTs = null;
	    		  if(anaMap.get("endTs") != null) {
	    			  endTs = OffsetDateTime.parse(anaMap.get("endTs"), DateTimeFormatter.ISO_OFFSET_DATE_TIME);
	  	  		  }
	  	  		  analyticsReq.setEndTs(endTs);
	    		  
	    		  OffsetDateTime timeAnaNeeded = null;
	    		  if(anaMap.get("timeAnaNeeded") != null) {
	    			  timeAnaNeeded = OffsetDateTime.parse(anaMap.get("timeAnaNeeded"), DateTimeFormatter.ISO_OFFSET_DATE_TIME);
	  	  		  }
	  	  		  analyticsReq.setTimeAnaNeeded(timeAnaNeeded);
	  	  		  
	    		  Integer sampRatio = null;
	    		  if(anaMap.get("sampRatio") != null) {
	    			  sampRatio = Integer.parseInt(anaMap.get("sampRatio"));
	    		  }
	    		  analyticsReq.setSampRatio(sampRatio);
	    		  
	    		  Integer maxObjectNbr = 1000000000;
	    		  if(anaMap.get("maxObjectNbr") != null) {
	    			  maxObjectNbr = Integer.parseInt(anaMap.get("maxObjectNbr"));
	    		  }
	    		  analyticsReq.setMaxObjectNbr(maxObjectNbr);
	    		  
	    		  Integer maxSupiNbr = 1000000000;
	    		  if(anaMap.get("maxSupiNbr") != null) {
	    			  maxSupiNbr = Integer.parseInt(anaMap.get("maxSupiNbr"));
	    		  }
	    		  analyticsReq.setMaxSupiNbr(maxSupiNbr);
	    	  }
//--------------------------------event-filter---------------------------------------------------------    		      		  
    		  EventFilter eventFilt = new EventFilter();
    		  Map<String, String> eventFilterMap = null;
    		  
    		  if (eventFilter!=null) {
				eventFilterMap = new JsonToMap().jsonToMap(eventFilter);
				List<String> appIdsList = null;
				if (eventFilterMap.get("appIds") != null) {
					appIdsList = new StringToList().stringToList(eventFilterMap.get("appIds"));
				}
				List<String> dnnsList = null;
				if (eventFilterMap.get("dnns") != null) {
					dnnsList = new StringToList().stringToList(eventFilterMap.get("dnns"));
				}
				List<String> dnaisList = null;
				if (eventFilterMap.get("dnais") != null) {
					dnaisList = new StringToList().stringToList(eventFilterMap.get("dnais"));
				}
				List<String> nfSetIdsList = null;
				if (eventFilterMap.get("nfSetIds") != null) {
					nfSetIdsList = new StringToList().stringToList(eventFilterMap.get("nfSetIds"));
				}
				List<UUID> nfInstanceIds = null;
				if (eventFilterMap.get("nfInstanceIds") != null) {
					nfInstanceIds = new StringToList().stringToUuidList(eventFilterMap.get("nfInstanceIds"));
				}
				List<NFType> nfTypes = null;
				if (eventFilterMap.get("nfTypes") != null) {
					nfTypes = new StringToList().stringToNfTypeList(eventFilterMap.get("nfTypes"));
				}
				// List<NetworkAreaInfo> networkAreaInfo = new StringToList().stringToNetworkAreaInfo(eventFilterMap.get("networkArea"));
				//List<NsiIdInfo> nsiIdInfoList = new StringToList().stringToNsiIdInfo((eventFilterMap.get("nsiIdInfos")));
				List<NetworkPerfType> nwPerfTypesList = null;
				if (eventFilterMap.get("nwPerfTypes") != null) {
					nwPerfTypesList = new StringToList().stringToNetworkPerfType(eventFilterMap.get("nwPerfTypes"));
				}
				List<ExceptionId> excepIdsList = null;
				if (eventFilterMap.get("excepIds") != null) {
					excepIdsList = new StringToList().stringToExceptionIds(eventFilterMap.get("excepIds"));
				}
				List<ExpectedAnalyticsType> exptAnaTypeList = null;
				if (eventFilterMap.get("exptAnaType") != null) {
					exptAnaTypeList = new StringToList().stringToExptAnaType(eventFilterMap.get("exptAnaType"));
				}
				ArrayList<NsiIdInfo> nsiIdInfosList = null;
				if (eventFilterMap.get("nsiIdInfos") != null) {
					nsiIdInfosList = new NsiIdInfo().stringToNsiIdInfos(eventFilterMap.get("nsiIdInfos"));
				}
				
				eventFilt.setNsiIdInfos(nsiIdInfosList);
				eventFilt.setExcepIds(excepIdsList);
				eventFilt.setNwPerfTypes(nwPerfTypesList);
				eventFilt.setNfInstanceIds(nfInstanceIds);
				eventFilt.setNfTypes(nfTypes);
				ArrayList<Snssai> snssais = null;
				if (eventFilterMap.get("snssais") != null) {
					snssais = Snssai.stringToSnssaiList(eventFilterMap.get("snssais"));
				}
				eventFilt.setSnssais(snssais);
				eventFilt.setAnySlice(Boolean.parseBoolean(eventFilterMap.get("anySlice")));
				eventFilt.setNfSetIds(nfSetIdsList);
				eventFilt.setDnais(dnaisList);
				eventFilt.setAppIds(appIdsList);
				eventFilt.setDnns(dnnsList);
			}
			//-------------------------------------------supported-features---------------------------------------------------------------------
    		SupportedFeatures supportedFeats = null;
			if (supportedFeatures!=null) {
				supportedFeats = new SupportedFeatures(supportedFeatures);
			}
    		  
//------------------------------------------------tgt-ue----------------------------------------------------------------------------
    		TargetUeInformation targetUe = new TargetUeInformation();
    		Map<String, String> targetUeMap = null;
    		if (tgtUe!=null) {
				targetUeMap = new JsonToMap().jsonToMap(tgtUe);
				if (targetUeMap.get("anyUe") != null) {
					targetUe.setAnyUe(Boolean.parseBoolean(targetUeMap.get("anyUe")));
				}
				if (targetUeMap.get("supis") != null) {
					List<String> supi = new Supi().stringToSupis(targetUeMap.get("supis"));
					targetUe.setSupis(supi);
				}
				if (targetUeMap.get("intGroupIds") != null) {
					List<String> groupId = new GroupId().stringToGroupIds(targetUeMap.get("intGroupIds"));
					targetUe.setIntGroupIds(groupId);
					//System.out.println(targetUe.getIntGroupIds());
				} 
			}
			String command = "curl http://192.168.1.4:9090/api/v1/query?query=node_disk_flush_requests_time_seconds_total -o /home/gctz/Desktop/Diplwmatikh/Multi_TS/Analytics_info/prometheus_yaml_files/test.json";
    		Process process;
			try {
				process = Runtime.getRuntime().exec(command);
				process.getInputStream();
			} catch (IOException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
    		ObjectMapper mapper = new ObjectMapper(new YAMLFactory());
    		//mapper.configure(SerializationFeature.FAIL_ON_SELF_REFERENCES, false);
   		    mapper.findAndRegisterModules();
    		    
    		AnalyticsData ad = new AnalyticsData();
            ad.setTimeStampGen(OffsetDateTime.now());
                
            if (supportedFeats != null) {
				if (supportedFeats.getAbnormalBehaviour() != null) {
					ad.setSuppFeat("{AbnormalBehaviour=" + supportedFeats.getAbnormalBehaviour()
							+ "; NetworkPerformance=" + supportedFeats.getNetworkPerformance() + "; NfLoad="
							+ supportedFeats.getNfLoad() + "; NsiLoad=" + supportedFeats.getNsiLoad()
							+ "; QoSSustainability=" + supportedFeats.getQoSSustainability()
							+ "; ServiceExperience=" + supportedFeats.getServiceExperience() + "; UeCommunication="
							+ supportedFeats.getUeCommunication() + "; UeMobility=" + supportedFeats.getUeMobility()
							+ "; UserDataCongestion=" + supportedFeats.getUserDataCongestion() + "}");
				} 
			}
			if (anaMap!=null) {
				if (analyticsReq.getStartTs() != null) {
					ad.setStart(analyticsReq.getStartTs());
				}

				if (analyticsReq.getEndTs() != null) {
					ad.setExpiry(analyticsReq.getEndTs());
				}
				
				if(ad.getStart()!=null && ad.getExpiry()!=null ) { //CHECKING START PRECEEDS EXPIRY
					if(ad.getStart().compareTo(ad.getExpiry())>0) {
						ad.setStart(null);
						ad.setExpiry(null);
					}
				}
			}
			if(eventId.name() == "LOAD_LEVEL_INFORMATION") {ad.setSliceLoadLevelInfos(null);}
               if(eventId.name() == "NETWORK_PERFORMANCE") {ad.setNwPerfs(null);;}
               if(eventId.name() == "NF_LOAD") {ad.setNfLoadLevelInfos(null);}
               if(eventId.name() == "SERVICE_EXPERIENCE") {ad.setSvcExps(null);}
               if(eventId.name() == "UE_MOBILITY") {ad.setUeMobs(null);}
               if(eventId.name() == "UE_COMMUNICATION") {ad.setUeComms(null);}
               if(eventId.name() == "QOS_SUSTAINABILITY") {ad.setQosSustainInfos(null);}
               if(eventId.name() == "ABNORMAL_BEHAVIOUR") {ad.setAbnorBehavrs(null);}
               if(eventId.name() == "USER_DATA_CONGESTION") {ad.setUserDataCongInfos(null);}
               if(eventId.name() == "NSI_LOAD_LEVEL") {
            	   List<NsiLoadLevelInfo> nsiLoadLevelInfos = new ArrayList<NsiLoadLevelInfo>();
            	   if (eventFilt.getSnssais() != null) {
            		   @Valid @Size(min = 1) List<Snssai> givenSnssais = eventFilt.getSnssais();
            		   for (int j = 0; j < givenSnssais.size(); j++) {
            			   Snssai currentSnssai = givenSnssais.get(j);
            			   NsiLoadLevelInfo currentNsiLoadLevelInfo = new NsiLoadLevelInfo(currentSnssai);
            			   //ad.addNsiLoadLevelInfosItem(currentNsiLoadLevelInfo);
            			   nsiLoadLevelInfos.add(currentNsiLoadLevelInfo);
            		   }
					//------------------------------------------------------------------------------------------------------      	              	  
            	   }
            	   if(eventFilt.getNsiIdInfos()!=null) {
            		   List<NsiIdInfo> givenNsiIdInfos = eventFilt.getNsiIdInfos();
            		   for(int i = 0; i<givenNsiIdInfos.size(); i++) {
            			   Snssai currentSnssai = givenNsiIdInfos.get(i).getSnssai();
            			   List<String> currentNsiIdsList = givenNsiIdInfos.get(i).getNsiIds();
            			   for(int j=0; j < currentNsiIdsList.size(); j++) {
            				   String currentNsiId = currentNsiIdsList.get(j);
            				   NsiLoadLevelInfo currentNsiLoadLevelInfo = new NsiLoadLevelInfo(currentSnssai, currentNsiId);
            				   //ad.addNsiLoadLevelInfosItem(currentNsiLoadLevelInfo);
            				   nsiLoadLevelInfos.add(currentNsiLoadLevelInfo);
            			   }
            		   }
            	   }
            	   ad.setNsiLoadLevelInfos(nsiLoadLevelInfos);
            	   //System.out.println("11"+ad);
               }
                //--------------> TO PROVLHMA EINAI STHN ONTOTHTA POY EPISTREFEI TO RETURN <----------------------	
               return new ResponseEntity<>(ad, HttpStatus.OK);
               //return new ResponseEntity<>(getObjectMapper().get().readValue("{\n  \"sliceLoadLevelInfos\" : [ {\n    \"loadLevelInformation\" : 0,\n    \"snssais\" : [ {\n      \"sd\" : \"sd\",\n      \"sst\" : 153\n    }, {\n      \"sd\" : \"sd\",\n      \"sst\" : 153\n    } ]\n  }, {\n    \"loadLevelInformation\" : 0,\n    \"snssais\" : [ {\n      \"sd\" : \"sd\",\n      \"sst\" : 153\n    }, {\n      \"sd\" : \"sd\",\n      \"sst\" : 153\n    } ]\n  } ],\n  \"ueComms\" : [ {\n    \"trafChar\" : {\n      \"fDescs\" : [ {\n        \"ethTrafficFilter\" : {\n          \"destMacAddr\" : \"{}\",\n          \"fDir\" : \"{}\",\n          \"ethType\" : \"ethType\",\n          \"fDesc\" : \"{}\",\n          \"vlanTags\" : [ \"vlanTags\", \"vlanTags\" ]\n        },\n        \"ipTrafficFilter\" : \"ipTrafficFilter\"\n      }, {\n        \"ethTrafficFilter\" : {\n          \"destMacAddr\" : \"{}\",\n          \"fDir\" : \"{}\",\n          \"ethType\" : \"ethType\",\n          \"fDesc\" : \"{}\",\n          \"vlanTags\" : [ \"vlanTags\", \"vlanTags\" ]\n        },\n        \"ipTrafficFilter\" : \"ipTrafficFilter\"\n      } ],\n      \"ulVol\" : 0\n    }\n  }, {\n    \"trafChar\" : {\n      \"fDescs\" : [ {\n        \"ethTrafficFilter\" : {\n          \"destMacAddr\" : \"{}\",\n          \"fDir\" : \"{}\",\n          \"ethType\" : \"ethType\",\n          \"fDesc\" : \"{}\",\n          \"vlanTags\" : [ \"vlanTags\", \"vlanTags\" ]\n        },\n        \"ipTrafficFilter\" : \"ipTrafficFilter\"\n      }, {\n        \"ethTrafficFilter\" : {\n          \"destMacAddr\" : \"{}\",\n          \"fDir\" : \"{}\",\n          \"ethType\" : \"ethType\",\n          \"fDesc\" : \"{}\",\n          \"vlanTags\" : [ \"vlanTags\", \"vlanTags\" ]\n        },\n        \"ipTrafficFilter\" : \"ipTrafficFilter\"\n      } ],\n      \"ulVol\" : 0\n    }\n  } ],\n  \"start\" : \"2000-01-23T04:56:07.000+00:00\",\n  \"nfLoadLevelInfos\" : [ {\n    \"nfInstanceId\" : \"046b6c7f-0b8a-43b9-b35d-6489e6daee91\",\n    \"nfStorageUsage\" : 2,\n    \"nfLoadLevelpeak\" : 9,\n    \"nfStatus\" : {\n      \"statusRegistered\" : 15\n    },\n    \"nfCpuUsage\" : 5,\n    \"confidence\" : 0,\n    \"nfType\" : \"\",\n    \"nfSetId\" : \"nfSetId\",\n    \"nfMemoryUsage\" : 5,\n    \"nfLoadLevelAverage\" : 7\n  }, {\n    \"nfInstanceId\" : \"046b6c7f-0b8a-43b9-b35d-6489e6daee91\",\n    \"nfStorageUsage\" : 2,\n    \"nfLoadLevelpeak\" : 9,\n    \"nfStatus\" : {\n      \"statusRegistered\" : 15\n    },\n    \"nfCpuUsage\" : 5,\n    \"confidence\" : 0,\n    \"nfType\" : \"\",\n    \"nfSetId\" : \"nfSetId\",\n    \"nfMemoryUsage\" : 5,\n    \"nfLoadLevelAverage\" : 7\n  } ],\n  \"svcExps\" : [ {\n    \"svcExprcVariance\" : 2.027123,\n    \"supis\" : [ \"supis\", \"supis\" ],\n    \"svcExprc\" : {\n      \"mos\" : \"{}\"\n    },\n    \"dnn\" : \"dnn\",\n    \"appId\" : \"appId\"\n  }, {\n    \"svcExprcVariance\" : 2.027123,\n    \"supis\" : [ \"supis\", \"supis\" ],\n    \"svcExprc\" : {\n      \"mos\" : \"{}\"\n    },\n    \"dnn\" : \"dnn\",\n    \"appId\" : \"appId\"\n  } ],\n  \"nsiLoadLevelInfos\" : [ {\n    \"nsiId\" : \"nsiId\"\n  }, {\n    \"nsiId\" : \"nsiId\"\n  } ],\n  \"userDataCongInfos\" : [ {\n    \"congestionInfo\" : {\n      \"timeIntev\" : {\n        \"startTime\" : \"{}\"\n      },\n      \"nsi\" : {\n        \"nfStorageUsage\" : 7,\n        \"congLevel\" : 1,\n        \"nfCpuUsage\" : 1,\n        \"nfMemoryUsage\" : 6,\n        \"nfLoadLevel\" : 1\n      },\n      \"congType\" : \"\"\n    }\n  }, {\n    \"congestionInfo\" : {\n      \"timeIntev\" : {\n        \"startTime\" : \"{}\"\n      },\n      \"nsi\" : {\n        \"nfStorageUsage\" : 7,\n        \"congLevel\" : 1,\n        \"nfCpuUsage\" : 1,\n        \"nfMemoryUsage\" : 6,\n        \"nfLoadLevel\" : 1\n      },\n      \"congType\" : \"\"\n    }\n  } ],\n  \"abnorBehavrs\" : [ {\n    \"supis\" : [ null, null ],\n    \"excep\" : {\n      \"excepTrend\" : \"\",\n      \"excepId\" : \"\",\n      \"excepLevel\" : 1\n    },\n    \"addtMeasInfo\" : {\n      \"ddosAttack\" : {\n        \"ipv6Addrs\" : [ \"2001:db8:85a3::8a2e:370:7334\", \"2001:db8:85a3::8a2e:370:7334\" ],\n        \"ipv4Addrs\" : [ \"198.51.100.1\", \"198.51.100.1\" ]\n      },\n      \"unexpFlowTeps\" : [ null, null ],\n      \"unexpWakes\" : [ null, null ],\n      \"circums\" : [ { }, { } ]\n    }\n  }, {\n    \"supis\" : [ null, null ],\n    \"excep\" : {\n      \"excepTrend\" : \"\",\n      \"excepId\" : \"\",\n      \"excepLevel\" : 1\n    },\n    \"addtMeasInfo\" : {\n      \"ddosAttack\" : {\n        \"ipv6Addrs\" : [ \"2001:db8:85a3::8a2e:370:7334\", \"2001:db8:85a3::8a2e:370:7334\" ],\n        \"ipv4Addrs\" : [ \"198.51.100.1\", \"198.51.100.1\" ]\n      },\n      \"unexpFlowTeps\" : [ null, null ],\n      \"unexpWakes\" : [ null, null ],\n      \"circums\" : [ { }, { } ]\n    }\n  } ],\n  \"nwPerfs\" : [ {\n    \"networkArea\" : {\n      \"ncgis\" : [ {\n        \"nrCellId\" : \"{}\"\n      }, {\n        \"nrCellId\" : \"{}\"\n      } ],\n      \"tais\" : [ {\n        \"tac\" : \"{}\"\n      }, {\n        \"tac\" : \"{}\"\n      } ],\n      \"gRanNodeIds\" : [ {\n        \"eNbId\" : \"{}\",\n        \"wagfId\" : \"{}\",\n        \"tngfId\" : \"{}\",\n        \"gNbId\" : \"{}\",\n        \"n3IwfId\" : \"{}\",\n        \"ngeNbId\" : \"{}\"\n      }, {\n        \"eNbId\" : \"{}\",\n        \"wagfId\" : \"{}\",\n        \"tngfId\" : \"{}\",\n        \"gNbId\" : \"{}\",\n        \"n3IwfId\" : \"{}\",\n        \"ngeNbId\" : \"{}\"\n      } ],\n      \"ecgis\" : [ {\n        \"eutraCellId\" : \"{}\",\n        \"nid\" : \"{}\",\n        \"plmnId\" : \"{}\"\n      }, {\n        \"eutraCellId\" : \"{}\",\n        \"nid\" : \"{}\",\n        \"plmnId\" : \"{}\"\n      } ]\n    },\n    \"nwPerfType\" : \"\"\n  }, {\n    \"networkArea\" : {\n      \"ncgis\" : [ {\n        \"nrCellId\" : \"{}\"\n      }, {\n        \"nrCellId\" : \"{}\"\n      } ],\n      \"tais\" : [ {\n        \"tac\" : \"{}\"\n      }, {\n        \"tac\" : \"{}\"\n      } ],\n      \"gRanNodeIds\" : [ {\n        \"eNbId\" : \"{}\",\n        \"wagfId\" : \"{}\",\n        \"tngfId\" : \"{}\",\n        \"gNbId\" : \"{}\",\n        \"n3IwfId\" : \"{}\",\n        \"ngeNbId\" : \"{}\"\n      }, {\n        \"eNbId\" : \"{}\",\n        \"wagfId\" : \"{}\",\n        \"tngfId\" : \"{}\",\n        \"gNbId\" : \"{}\",\n        \"n3IwfId\" : \"{}\",\n        \"ngeNbId\" : \"{}\"\n      } ],\n      \"ecgis\" : [ {\n        \"eutraCellId\" : \"{}\",\n        \"nid\" : \"{}\",\n        \"plmnId\" : \"{}\"\n      }, {\n        \"eutraCellId\" : \"{}\",\n        \"nid\" : \"{}\",\n        \"plmnId\" : \"{}\"\n      } ]\n    },\n    \"nwPerfType\" : \"\"\n  } ],\n  \"ueMobs\" : [ {\n    \"duration\" : 4,\n    \"recurringTime\" : {\n      \"daysOfWeek\" : [ \"{}\", \"{}\", \"{}\", \"{}\", \"{}\", \"{}\" ],\n      \"timeOfDayStart\" : \"{}\"\n    },\n    \"locInfos\" : [ {\n      \"loc\" : {\n        \"eutraLocation\" : \"{}\",\n        \"nrLocation\" : \"{}\",\n        \"n3gaLocation\" : \"{}\"\n      }\n    }, {\n      \"loc\" : {\n        \"eutraLocation\" : \"{}\",\n        \"nrLocation\" : \"{}\",\n        \"n3gaLocation\" : \"{}\"\n      }\n    } ]\n  }, {\n    \"duration\" : 4,\n    \"recurringTime\" : {\n      \"daysOfWeek\" : [ \"{}\", \"{}\", \"{}\", \"{}\", \"{}\", \"{}\" ],\n      \"timeOfDayStart\" : \"{}\"\n    },\n    \"locInfos\" : [ {\n      \"loc\" : {\n        \"eutraLocation\" : \"{}\",\n        \"nrLocation\" : \"{}\",\n        \"n3gaLocation\" : \"{}\"\n      }\n    }, {\n      \"loc\" : {\n        \"eutraLocation\" : \"{}\",\n        \"nrLocation\" : \"{}\",\n        \"n3gaLocation\" : \"{}\"\n      }\n    } ]\n  } ],\n  \"qosSustainInfos\" : [ {\n    \"qosFlowRetThd\" : {\n      \"relTimeUnit\" : \"\"\n    },\n    \"ranUeThrouThd\" : \"ranUeThrouThd\"\n  }, {\n    \"qosFlowRetThd\" : {\n      \"relTimeUnit\" : \"\"\n    },\n    \"ranUeThrouThd\" : \"ranUeThrouThd\"\n  } ],\n  \"suppFeat\" : \"suppFeat\"\n}", AnalyticsData.class), HttpStatus.NOT_IMPLEMENTED);
    	  }
     	  return new ResponseEntity<>(HttpStatus.NOT_IMPLEMENTED);
    }
}
 
